


ARM Macro Assembler    Page 1 


    1 00000000         ; main.s
    2 00000000         ; Desenvolvido para a placa EK-TM4C1294XL
    3 00000000         ; Jhony Minetto Araújo, Ricardo Marthus Gremmelmaier, R
                       odrigo Wolsky Poli
    4 00000000         ; Última atualização: 11/11/2024
    5 00000000         ; Este programa deve esperar o usu�rio pressionar uma 
                       chave.
    6 00000000         ; Caso o usuário pressione uma chave, um LED deve pisca
                       r a cada 1 segundo.
    7 00000000         
    8 00000000         ; ------------------------------------------------------
                       -------------------------
    9 00000000                 THUMB                        ; Instru��es do
                                                             tipo Thumb-2
   10 00000000         ; ------------------------------------------------------
                       -------------------------
   11 00000000         
   12 00000000         ; Declarações EQU - Defines
   13 00000000         ;<NOME>         EQU <VALOR>
   14 00000000         ; ========================
   15 00000000         ; Definições de Valores
   16 00000000         
   17 00000000         
   18 00000000         ; ------------------------------------------------------
                       -------------------------
   19 00000000         ; �rea de Dados - Declarações de vari�veis
   20 00000000                 AREA             DATA, ALIGN=2
   21 00000000         ; Se alguma variável for chamada em outro arquivo
   22 00000000         ;EXPORT  <var> [DATA,SIZE=<tam>]   ; Permite chamar a va
                       riável <var> a 
   23 00000000         ; partir de outro arquivo
   24 00000000         ;<var> SPACE <tam>                        ; Declara uma 
                       variável de nome <var>
   25 00000000         ; de <tam> bytes a partir da primeira 
   26 00000000         ; posição da RAM  
   27 00000000         
   28 00000000         ; ------------------------------------------------------
                       -------------------------
   29 00000000         ; Área de Código - Tudo abaixo da diretiva a seguir se
                       rá armazenado na memória de 
   30 00000000         ;                  código
   31 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   32 00000000         
   33 00000000         ; Se alguma função do arquivo for chamada em outro arq
                       uivo 
   34 00000000                 EXPORT           Start       ; Permite chamar a 
                                                            função Start a pa
                                                            rtir de 
   35 00000000         ; outro arquivo. No caso startup.s
   36 00000000         
   37 00000000         ; Se chamar alguma função externa 
   38 00000000         ;IMPORT <func>              ; Permite chamar dentro dest
                       e arquivo uma 
   39 00000000         ; função <func>
   40 00000000                 IMPORT           PLL_Init
   41 00000000                 IMPORT           SysTick_Init
   42 00000000                 IMPORT           SysTick_Wait1ms
   43 00000000                 IMPORT           GPIO_Init



ARM Macro Assembler    Page 2 


   44 00000000                 IMPORT           Led_Output
   45 00000000                 IMPORT           Switch_Input
   46 00000000                 IMPORT           Display_Output
   47 00000000         ; ------------------------------------------------------
                       -------------------------
   48 00000000         ; Função main()
   49 00000000         Start
   50 00000000         ; Comece o código aqui <===============================
                       =======================
   51 00000000         
   52 00000000 F7FF FFFE       BL               PLL_Init    ;Chama a subrotina 
                                                            para alterar o cloc
                                                            k do microcontrolad
                                                            or para 80MHz
   53 00000004 F7FF FFFE       BL               SysTick_Init ;Chama a subrotina
                                                             para inicializar o
                                                             SysTick
   54 00000008 F7FF FFFE       BL               GPIO_Init   ;Chama a subrotina 
                                                            que inicializa os G
                                                            PIO
   55 0000000C         
   56 0000000C F44F 7088       MOV              R0, #0x00000110
   57 00000010 F7FF FFFE       BL               Display_Output
   58 00000014         
   59 00000014 F240 1001       MOV              R0, #0x00000101
   60 00000018 F7FF FFFE       BL               Display_Output
   61 0000001C         ; R0 -> Contador
   62 0000001C         ; R1 -> Passo a ser incrementado no contador
   63 0000001C         ; R2 -> Quantidade de ticks de ms
   64 0000001C         ; R3 -> Direção do contador
   65 0000001C F04F 0001       MOV              R0, #1
   66 00000020 F04F 0101       MOV              R1, #1
   67 00000024 F44F 72FA       MOV              R2, #500
   68 00000028         MainLoop
   69 00000028 F000 F827       BL               PrintValue
   70 0000002C         
   71 0000002C         Loop
   72 0000002C 2803            CMP              R0, #2_11
   73 0000002E D105            BNE              Step_handler
   74 00000030 4408            ADD              R0, R1
   75 00000032 2900            CMP              R1, #0
   76 00000034 DB17            BLT              CheckUnderflow
   77 00000036 2963            CMP              R1, #99
   78 00000038 DC1A            BGT              CheckOverflow
   79 0000003A         
   80 0000003A E7F5            B                MainLoop
   81 0000003C         
   82 0000003C         Step_handler
   83 0000003C 2802            CMP              R0, #2_10
   84 0000003E D104            BNE              Neg_handler
   85 00000040 2909            CMP              R1, #9
   86 00000042 BF34            ITE              LO
   87 00000044 3101            ADDLO            R1, #1
   88 00000046 2100            MOVHS            R1, #0
   89 00000048         
   90 00000048 E7EE            B                MainLoop
   91 0000004A         
   92 0000004A         Neg_handler
   93 0000004A 2801            CMP              R0, #2_01



ARM Macro Assembler    Page 3 


   94 0000004C D102            BNE              Both_handler
   95 0000004E F1C1 0100       NEG              R1, R1
   96 00000052 E7E9            B                MainLoop
   97 00000054         
   98 00000054         Both_handler
   99 00000054 2800            CMP              R0, #2_00
  100 00000056 D1E7            BNE              MainLoop
  101 00000058 2909            CMP              R1, #9
  102 0000005A BF34            ITE              LO
  103 0000005C 3101            ADDLO            R1, #1
  104 0000005E 2100            MOVHS            R1, #0
  105 00000060 F1C1 0100       NEG              R1, R1
  106 00000064 E7E0            B                MainLoop
  107 00000066         
  108 00000066         CheckUnderflow
  109 00000066 2900            CMP              R1, #0
  110 00000068 DADE            BGE              MainLoop
  111 0000006A F04F 0163       MOV              R1, #99
  112 0000006E E7DB            B                MainLoop
  113 00000070         
  114 00000070         CheckOverflow
  115 00000070 2963            CMP              R1, #99
  116 00000072 DDD9            BLE              MainLoop
  117 00000074 F04F 0100       MOV              R1, #0
  118 00000078 E7D6            B                MainLoop
  119 0000007A         
  120 0000007A         PrintValue
  121 0000007A B500            PUSH             {LR}
  122 0000007C F7FF FFFE       BL               Led_Output
  123 00000080 F7FF FFFE       BL               Switch_Input
  124 00000084 F44F 727A       MOV              R2, #1000
  125 00000088 F7FF FFFE       BL               SysTick_Wait1ms
  126 0000008C F85D EB04       POP              {LR}
  127 00000090 4770            BX               LR
  128 00000092         ; ------------------------------------------------------
                       --------------------------------------------------------
                       -----------
  129 00000092         ; Fim do Arquivo
  130 00000092         ; ------------------------------------------------------
                       --------------------------------------------------------
                       ----------- 
  131 00000092 00 00           ALIGN                        ;Garante que o fim 
                                                            da se��o est�
                                                             alinhada 
  132 00000094                 END                          ;Fim do arquivo
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp.sp --apcs=
interwork --depend=.\objects\main.d -o.\objects\main.o -IC:\Users\Ricar\AppData
\Local\Arm\Packs\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C129 --predefine="__EVAL
 SETA 1" --predefine="__UVISION_VERSION SETA 536" --predefine="TM4C1294NCPDT SE
TA 1" --list=.\listings\main.lst main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DATA 00000000

Symbol: DATA
   Definitions
      At line 20 in file main.s
   Uses
      None
Comment: DATA unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 31 in file main.s
   Uses
      None
Comment: .text unused
Both_handler 00000054

Symbol: Both_handler
   Definitions
      At line 98 in file main.s
   Uses
      At line 94 in file main.s
Comment: Both_handler used once
CheckOverflow 00000070

Symbol: CheckOverflow
   Definitions
      At line 114 in file main.s
   Uses
      At line 78 in file main.s
Comment: CheckOverflow used once
CheckUnderflow 00000066

Symbol: CheckUnderflow
   Definitions
      At line 108 in file main.s
   Uses
      At line 76 in file main.s
Comment: CheckUnderflow used once
Loop 0000002C

Symbol: Loop
   Definitions
      At line 71 in file main.s
   Uses
      None
Comment: Loop unused
MainLoop 00000028

Symbol: MainLoop
   Definitions
      At line 68 in file main.s
   Uses
      At line 80 in file main.s
      At line 90 in file main.s
      At line 96 in file main.s
      At line 100 in file main.s
      At line 106 in file main.s
      At line 110 in file main.s
      At line 112 in file main.s
      At line 116 in file main.s
      At line 118 in file main.s

Neg_handler 0000004A

Symbol: Neg_handler



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 92 in file main.s
   Uses
      At line 84 in file main.s
Comment: Neg_handler used once
PrintValue 0000007A

Symbol: PrintValue
   Definitions
      At line 120 in file main.s
   Uses
      At line 69 in file main.s
Comment: PrintValue used once
Start 00000000

Symbol: Start
   Definitions
      At line 49 in file main.s
   Uses
      At line 34 in file main.s
Comment: Start used once
Step_handler 0000003C

Symbol: Step_handler
   Definitions
      At line 82 in file main.s
   Uses
      At line 73 in file main.s
Comment: Step_handler used once
10 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

Display_Output 00000000

Symbol: Display_Output
   Definitions
      At line 46 in file main.s
   Uses
      At line 57 in file main.s
      At line 60 in file main.s

GPIO_Init 00000000

Symbol: GPIO_Init
   Definitions
      At line 43 in file main.s
   Uses
      At line 54 in file main.s
Comment: GPIO_Init used once
Led_Output 00000000

Symbol: Led_Output
   Definitions
      At line 44 in file main.s
   Uses
      At line 122 in file main.s
Comment: Led_Output used once
PLL_Init 00000000

Symbol: PLL_Init
   Definitions
      At line 40 in file main.s
   Uses
      At line 52 in file main.s
Comment: PLL_Init used once
Switch_Input 00000000

Symbol: Switch_Input
   Definitions
      At line 45 in file main.s
   Uses
      At line 123 in file main.s
Comment: Switch_Input used once
SysTick_Init 00000000

Symbol: SysTick_Init
   Definitions
      At line 41 in file main.s
   Uses
      At line 53 in file main.s
Comment: SysTick_Init used once
SysTick_Wait1ms 00000000

Symbol: SysTick_Wait1ms
   Definitions
      At line 42 in file main.s
   Uses
      At line 125 in file main.s
Comment: SysTick_Wait1ms used once
7 symbols
352 symbols in table
