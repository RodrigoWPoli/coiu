


ARM Macro Assembler    Page 1 


    1 00000000         ;led_blinking.s
    2 00000000         ; Desenvolvido para a placa EK-TM4C1294XL
    3 00000000         ; Jhony Minetto Araujo, Ricardo Marthus Gremmelmaier, Ro
                       drigo Wolsky Poli
    4 00000000         ; Ver 1 02/12/2024
    5 00000000         
    6 00000000         
    7 00000000         ; ------------------------------------------------------
                       -------------------------
    8 00000000                 THUMB                        ; Instrucoes do tip
                                                            o Thumb-2
    9 00000000         ; ------------------------------------------------------
                       -------------------------
   10 00000000         ; Declaracoes EQU - Defines
   11 00000000         ; ========================
   12 00000000         
   13 00000000         ; ================== DEFINICAO DA TABELA ===============
                       ====
   14 00000000 400583FC 
                       GPIO_PORTA_AHB_DATA_R
                               EQU              0x400583FC
   15 00000000 400653FC 
                       GPIO_PORTP_DATA_R
                               EQU              0x400653FC
   16 00000000 400663FC 
                       GPIO_PORTQ_DATA_R
                               EQU              0x400663FC
   17 00000000 20010004 
                       Timer1A_Addr
                               EQU              0x20010004
   18 00000000 20000A00 
                       MULTI_HEAD
                               EQU              0x20000A00
   19 00000000 20020004 
                       CURR_KEY
                               EQU              0x20020004
   20 00000000 20010008 
                       BLINKING_COUNTER
                               EQU              0x20010008
   21 00000000         
   22 00000000         ; ------------------------------------------------------
                       -------------------------
   23 00000000         ; Area de Codigo
   24 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   25 00000000         
   26 00000000                 EXPORT           blink_leds
   27 00000000         
   28 00000000         ; ------------------------------------------------------
                       ------------------------
   29 00000000         ; Funcao blink_leds
   30 00000000         ; Checa se tem q ligar ou desligar os LEDs. Calcula quai
                       s LEDs tem que ligar.
   31 00000000         blink_leds
   32 00000000 482F            LDR              R0, =Timer1A_Addr ; Zera o bit 
                                                            do endereço do int
                                                            errupt do timer 1
   33 00000002 F04F 0100       MOV              R1, #0
   34 00000006 6001            STR              R1, [R0]



ARM Macro Assembler    Page 2 


   35 00000008         
   36 00000008 482E            LDR              R0, =CURR_KEY ; Recupera a tecl
                                                            a atual
   37 0000000A 6801            LDR              R1, [R0]
   38 0000000C         
   39 0000000C 482E            LDR              R0, =MULTI_HEAD
   40 0000000E 4408            ADD              R0, R0, R1
   41 00000010 7802            LDRB             R2, [R0]    ; Carrega o valor a
                                                            tual da tabuada do 
                                                            dígito em R2
   42 00000012         
   43 00000012 2A00            CMP              R2, #0
   44 00000014 D040            BEQ              reset_leds
   45 00000016         
   46 00000016 482D            LDR              R0, =BLINKING_COUNTER ; Recuper
                                                            a o valor de contag
                                                            em atual para alter
                                                            ar a frequência do
                                                             blink
   47 00000018 6803            LDR              R3, [R0]
   48 0000001A F103 0301       ADD              R3, R3, #1  ; Incrementa o cont
                                                            ador em 1
   49 0000001E 6003            STR              R3, [R0]
   50 00000020         
   51 00000020 428B            CMP              R3, R1
   52 00000022 D33C            BLO              leds_wait_state ; Pula o toggle
                                                             até chegar na con
                                                            tagem para realizar
                                                             o delay
   53 00000024         
   54 00000024 4829            LDR              R0, =BLINKING_COUNTER
   55 00000026 F04F 0300       MOV              R3, #0
   56 0000002A 6003            STR              R3, [R0]
   57 0000002C         
   58 0000002C 4828            LDR              R0, =GPIO_PORTP_DATA_R
   59 0000002E 6801            LDR              R1, [R0]    ; Recupera a config
                                                            uração anterior d
                                                            os LEDs
   60 00000030         
   61 00000030 2900            CMP              R1, #2_00000000
   62 00000032 BF0C            ITE              EQ          ; Toggles the LEDs 
                                                            to make them blink
   63 00000034 2120            MOVEQ            R1, #2_00100000
   64 00000036 2100            MOVNE            R1, #2_00000000
   65 00000038 6001            STR              R1, [R0]
   66 0000003A         
   67 0000003A 4822            LDR              R0, =CURR_KEY ; Recupera a tecl
                                                            a atual
   68 0000003C 6801            LDR              R1, [R0]
   69 0000003E         
   70 0000003E 4822            LDR              R0, =MULTI_HEAD
   71 00000040 4408            ADD              R0, R0, R1
   72 00000042 7802            LDRB             R2, [R0]    ; Carrega o valor a
                                                            tual da tabuada do 
                                                            dígito em R2
   73 00000044         
   74 00000044 2A01            CMP              R2, #1
   75 00000046 D00F            BEQ              set_led1
   76 00000048         



ARM Macro Assembler    Page 3 


   77 00000048 2A02            CMP              R2, #2
   78 0000004A D010            BEQ              set_led2
   79 0000004C         
   80 0000004C 2A03            CMP              R2, #3
   81 0000004E D011            BEQ              set_led3
   82 00000050         
   83 00000050 2A04            CMP              R2, #4
   84 00000052 D012            BEQ              set_led4
   85 00000054         
   86 00000054 2A05            CMP              R2, #5
   87 00000056 D013            BEQ              set_led5
   88 00000058         
   89 00000058 2A06            CMP              R2, #6
   90 0000005A D014            BEQ              set_led6
   91 0000005C         
   92 0000005C 2A07            CMP              R2, #7
   93 0000005E D015            BEQ              set_led7
   94 00000060         
   95 00000060 2A08            CMP              R2, #8
   96 00000062 D016            BEQ              set_led8
   97 00000064         
   98 00000064 2A09            CMP              R2, #9
   99 00000066 D014            BEQ              set_led8
  100 00000068         
  101 00000068         set_led1
  102 00000068 F04F 0180       MOV              R1, #2_10000000
  103 0000006C E01E            B                blink_leds_return
  104 0000006E         set_led2
  105 0000006E F04F 01C0       MOV              R1, #2_11000000
  106 00000072 E01B            B                blink_leds_return
  107 00000074         
  108 00000074         set_led3
  109 00000074 F04F 01E0       MOV              R1, #2_11100000
  110 00000078 E018            B                blink_leds_return
  111 0000007A         
  112 0000007A         set_led4
  113 0000007A F04F 01F0       MOV              R1, #2_11110000
  114 0000007E E015            B                blink_leds_return
  115 00000080         
  116 00000080         set_led5
  117 00000080 F04F 01F8       MOV              R1, #2_11111000
  118 00000084 E012            B                blink_leds_return
  119 00000086         
  120 00000086         set_led6
  121 00000086 F04F 01FC       MOV              R1, #2_11111100
  122 0000008A E00F            B                blink_leds_return
  123 0000008C         
  124 0000008C         set_led7
  125 0000008C F04F 01FE       MOV              R1, #2_11111110
  126 00000090 E00C            B                blink_leds_return
  127 00000092         
  128 00000092         set_led8
  129 00000092 F04F 01FF       MOV              R1, #2_11111111
  130 00000096 E009            B                blink_leds_return
  131 00000098         
  132 00000098         reset_leds
  133 00000098 F04F 0100       MOV              R1, #2_00000000
  134 0000009C E006            B                blink_leds_return
  135 0000009E         



ARM Macro Assembler    Page 4 


  136 0000009E         leds_wait_state
  137 0000009E 480D            LDR              R0, =GPIO_PORTA_AHB_DATA_R
  138 000000A0 6801            LDR              R1, [R0]
  139 000000A2         
  140 000000A2 480D            LDR              R0, =GPIO_PORTQ_DATA_R
  141 000000A4 6802            LDR              R2, [R0]
  142 000000A6 EA41 0102       ORR              R1, R1, R2
  143 000000AA         
  144 000000AA E7FF            B                blink_leds_return
  145 000000AC         
  146 000000AC         blink_leds_return
  147 000000AC         ; A4-A7     Q0-Q3
  148 000000AC F001 02F0       AND              R2, R1, #0xF0
  149 000000B0 4808            LDR              R0, =GPIO_PORTA_AHB_DATA_R
  150 000000B2 6002            STR              R2, [R0]
  151 000000B4         
  152 000000B4 F001 020F       AND              R2, R1, #0x0F
  153 000000B8 4807            LDR              R0, =GPIO_PORTQ_DATA_R
  154 000000BA 6002            STR              R2, [R0]
  155 000000BC         
  156 000000BC 4770            BX               LR
  157 000000BE         
  158 000000BE         
  159 000000BE         
  160 000000BE         
  161 000000BE 00 00           ALIGN
  162 000000C0                 END
              20010004 
              20020004 
              20000A00 
              20010008 
              400653FC 
              400583FC 
              400663FC 
Command Line: --debug --xref --diag_suppress=9931,A1950W --cpu=Cortex-M4.fp.sp 
--depend=.\objects\led_blinking.d -o.\objects\led_blinking.o -IC:\Users\jhony\A
ppData\Local\Arm\Packs\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C129 --predefine="
__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 541" --predefine="TM4C1294NC
PDT SETA 1" --list=.\listings\led_blinking.lst led_blinking.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 24 in file led_blinking.s
   Uses
      None
Comment: .text unused
blink_leds 00000000

Symbol: blink_leds
   Definitions
      At line 31 in file led_blinking.s
   Uses
      At line 26 in file led_blinking.s
Comment: blink_leds used once
blink_leds_return 000000AC

Symbol: blink_leds_return
   Definitions
      At line 146 in file led_blinking.s
   Uses
      At line 103 in file led_blinking.s
      At line 106 in file led_blinking.s
      At line 110 in file led_blinking.s
      At line 114 in file led_blinking.s
      At line 118 in file led_blinking.s
      At line 122 in file led_blinking.s
      At line 126 in file led_blinking.s
      At line 130 in file led_blinking.s
      At line 134 in file led_blinking.s
      At line 144 in file led_blinking.s

leds_wait_state 0000009E

Symbol: leds_wait_state
   Definitions
      At line 136 in file led_blinking.s
   Uses
      At line 52 in file led_blinking.s
Comment: leds_wait_state used once
reset_leds 00000098

Symbol: reset_leds
   Definitions
      At line 132 in file led_blinking.s
   Uses
      At line 44 in file led_blinking.s
Comment: reset_leds used once
set_led1 00000068

Symbol: set_led1
   Definitions
      At line 101 in file led_blinking.s
   Uses
      At line 75 in file led_blinking.s
Comment: set_led1 used once
set_led2 0000006E




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Symbol: set_led2
   Definitions
      At line 104 in file led_blinking.s
   Uses
      At line 78 in file led_blinking.s
Comment: set_led2 used once
set_led3 00000074

Symbol: set_led3
   Definitions
      At line 108 in file led_blinking.s
   Uses
      At line 81 in file led_blinking.s
Comment: set_led3 used once
set_led4 0000007A

Symbol: set_led4
   Definitions
      At line 112 in file led_blinking.s
   Uses
      At line 84 in file led_blinking.s
Comment: set_led4 used once
set_led5 00000080

Symbol: set_led5
   Definitions
      At line 116 in file led_blinking.s
   Uses
      At line 87 in file led_blinking.s
Comment: set_led5 used once
set_led6 00000086

Symbol: set_led6
   Definitions
      At line 120 in file led_blinking.s
   Uses
      At line 90 in file led_blinking.s
Comment: set_led6 used once
set_led7 0000008C

Symbol: set_led7
   Definitions
      At line 124 in file led_blinking.s
   Uses
      At line 93 in file led_blinking.s
Comment: set_led7 used once
set_led8 00000092

Symbol: set_led8
   Definitions
      At line 128 in file led_blinking.s
   Uses
      At line 96 in file led_blinking.s
      At line 99 in file led_blinking.s

13 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

BLINKING_COUNTER 20010008

Symbol: BLINKING_COUNTER
   Definitions
      At line 20 in file led_blinking.s
   Uses
      At line 46 in file led_blinking.s
      At line 54 in file led_blinking.s

CURR_KEY 20020004

Symbol: CURR_KEY
   Definitions
      At line 19 in file led_blinking.s
   Uses
      At line 36 in file led_blinking.s
      At line 67 in file led_blinking.s

GPIO_PORTA_AHB_DATA_R 400583FC

Symbol: GPIO_PORTA_AHB_DATA_R
   Definitions
      At line 14 in file led_blinking.s
   Uses
      At line 137 in file led_blinking.s
      At line 149 in file led_blinking.s

GPIO_PORTP_DATA_R 400653FC

Symbol: GPIO_PORTP_DATA_R
   Definitions
      At line 15 in file led_blinking.s
   Uses
      At line 58 in file led_blinking.s
Comment: GPIO_PORTP_DATA_R used once
GPIO_PORTQ_DATA_R 400663FC

Symbol: GPIO_PORTQ_DATA_R
   Definitions
      At line 16 in file led_blinking.s
   Uses
      At line 140 in file led_blinking.s
      At line 153 in file led_blinking.s

MULTI_HEAD 20000A00

Symbol: MULTI_HEAD
   Definitions
      At line 18 in file led_blinking.s
   Uses
      At line 39 in file led_blinking.s
      At line 70 in file led_blinking.s

Timer1A_Addr 20010004

Symbol: Timer1A_Addr
   Definitions
      At line 17 in file led_blinking.s
   Uses



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

      At line 32 in file led_blinking.s
Comment: Timer1A_Addr used once
7 symbols
356 symbols in table
